########################    ROUTER 0 TELEFONICA    ###############################
enable
configure terminal
interface gigabitEthernet 0/0
ip address 10.1.10.1 255.255.255.252 
no shutdown
exit
interface serial 0/3/0
ip address 10.1.10.1 255.255.255.252
no shutdown
exit
router rip
version 2
network 10.1.10.0
no auto-summary



########################    ROUTER 1 VODAFONE    ###############################
enable
CONFIGURE TERMINAL
interface gigabitEthernet 0/0
ip address 10.1.1.1 255.255.255.252 // mascara /30 por que solo necesitamos 2 hosts 
no shutdown
exit

INTERFACE SERIAL 0/3/0
ip address 10.1.3.2 255.255.255.252 // mascara /30 por que solo necesitamos 2 hosts hutdown #
END

configure terminal
router rip
version 2
network 10.1.3.0
no auto-summary

copy running-config startup-config


########################    ROUTER 2 KNOLONY    ###############################
enable
CONFIGURE TERMINAL
interface gigabitEthernet 0/0
ip address 10.1.1.2 255.255.255.252 // mascara /30 por que solo necesitamos 2 hosts 
no shutdown
exit

interface gigabitEthernet 0/1
ip address 10.1.2.1 255.255.255.252 // mascara /30 por que solo necesitamos 2 hosts 
no shutdown
exit

INTERFACE SERIAL 0/3/1
ip address 10.1.7.1 255.255.255.255.252 // mascara /30 por que solo necesitamos 2 hosts 
no shutdown
exit

router ospf 100
network 10.1.7.0 0.0.0.3 area 0
exit

END
copy running-config startup-config


########################    ROUTER 3 votafone hub    ###############################
ENABLE 
CONFIGURE TERMINAL
INTERFACE SERIAL 0/0/0
ip address 10.1.3.1 255.255.255.252 // mascara /30 por que solo necesitamos 2 hosts 
no shutdown
exit
INTERFACE SERIAL 0/2/0
ip address 10.1.4.1 255.255.255.252  // mascara /30 por que solo necesitamos 2 hosts 
no shutdown
exit
INTERFACE SERIAL 0/3/1
ip address 10.1.5.1 255.255.255.252  // mascara /30 por que solo necesitamos 2 hosts 
no shutdown
exit
INTERFACE SERIAL 0/3/0
ip address 10.1.6.1 255.255.255.252  // mascara /30 por que solo necesitamos 2 hosts 
no shutdown
exit
END

configure terminal
router rip
version 2
network 10.1.3.0
redistribute ospf 100 metric 15
no auto-summary

configure terminal
router ospf 100
network 10.1.4.0 0.0.0.3 area 0
network 10.1.6.0 0.0.0.3 area 0
redistribute rip subnets

copy running-config startup-config

########################    ROUTER 4 VODAFONE SPOKE 1    ###############################
ENABLE
CONFIGURE TERMINAL
INTERFACE SERIAL 0/3/0
IP ADDRESS 10.1.4.2 255.255.255.252 //  mascara /30 por que solo necesitamos 2 hosts
NO SHUTDOWN
END

configure terminal
interface gigabitEthernet 0/0
ip address 192.168.28.1 255.255.255.128
no shutdown

configure terminal
router ospf 100
network 10.1.4.0 0.0.0.3 area 0
network 192.168.28.0 0.0.0.127 area 0 

copy running-config startup-config 

########################    ROUTER 5 VODAFONE SPOKE 2   ###############################
ENABLE
CONFIGURE TERMINAL
INTERFACE SERIAL 0/3/0
IP ADDRESS 10.1.6.2 255.255.255.252 //  mascara /30 por que solo necesitamos 2 hosts
NO SHUTDOWN
END

configure terminal
interface gigabitEthernet 0/0
ip address 192.168.28.128 255.255.255.128
no shutdown

configure terminal
router ospf 100
network 10.1.6.0 0.0.0.3 area 0
network 192.168.28.128 0.0.0.127 area 0 

copy running-config startup-config 




########################    ROUTER 6    ###############################
enable
configure terminal
INTERFACE SERIAL 0/3/0
ip address 10.1.7.2 255.255.255.252 // mascara /30 por que solo necesitamos 2 hosts 
no shutdown
exit

INTERFACE SERIAL 0/3/1
ip address 10.1.8.1 255.255.255.252 // mascara /30 por que solo necesitamos 2 hosts 
no shutdown
exit

INTERFACE SERIAL 0/2/0
ip address 10.1.9.1 255.255.255.252 // mascara /30 por que solo necesitamos 2 hosts 
no shutdown
exit

router ospf 100
network 10.1.7.0 0.0.0.3 area 0
redistribute eigrp 100 subnets
exit

router eigrp 100
network 10.1.8.0 0.0.0.3
network 10.1.9.0 0.0.0.3
redistribute ospf 100 metric 15 150 255 255 1500
exit

########################    ROUTER 7    ###############################
enable
configure terminal
INTERFACE SERIAL 0/3/0
ip address 10.1.8.2 255.255.255.252 // mascara /30 por que solo necesitamos 2 hosts 
no shutdown
exit

interface gigabitEthernet 0/0
ip address 192.168.58.1 255.255.255.128
no shutdown
exit
interface gigabitEthernet 0/1
no shutdown
exit

router eigrp 100
network 10.1.8.0 0.0.0.3
network 192.168.58.0 0.0.0.127
exit

########################    ROUTER 8    ###############################
enable
configure terminal
INTERFACE SERIAL 0/3/0
ip address 10.1.9.2 255.255.255.252 // mascara /30 por que solo necesitamos 2 hosts 
no shutdown
exit

interface gigabitEthernet 0/0
ip address 192.168.58.129 255.255.255.128
no shutdown
exit
interface gigabitEthernet 0/1
no shutdown
exit

router eigrp 100
network 10.1.9.0 0.0.0.3
network 192.168.58.128 0.0.0.127
exit


########################    ROUTER 11 TELEFONICA  ###############################
enable
configure terminal
interface serial 0/2/0
ip address 10.1.10.2 255.255.255.252
no shutdown
exit
interface serial 0/3/0
ip address 10.1.11.1 255.255.255.252
no shutdown
exit
interface serial 0/3/1
ip address 10.1.12.1 255.255.255.252
no shutdown
exit
router rip
version 2
network 10.1.10.0
network 10.1.11.0
network 10.1.12.0
no auto-summary
exit


########################    ROUTER 9 TELEFONICA  ###############################
enable
configure terminal
interface serial 0/2/0
ip address 10.1.11.2 255.255.255.252
no shutdown
exit
interface gigabitEthernet 0/1
ip address 10.1.15.1 255.255.255.252
no shutdown
exit
interface gigabitEthernet 0/0
ip address 10.1.13.1 255.255.255.252
no shutdown
exit
router rip
version 2
network 10.1.11.0
no auto-summary
redistribute eigrp 100 metric 15
exit
router eigrp 100
network 10.1.13.0 0.0.0.3
network 10.1.15.0 0.0.0.3
redistribute rip metric 15 150 255 255 1500
exit


########################    ROUTER 10 TELEFONICA  ###############################
enable
configure terminal
interface serial 0/2/0
ip address 10.1.12.2 255.255.255.252
no shutdown
exit
interface gigabitEthernet 0/1
ip address 10.1.14.1 255.255.255.252
no shutdown
exit
interface gigabitEthernet 0/0
ip address 10.1.16.1 255.255.255.252
no shutdown
exit
router rip
version 2
network 10.1.12.0
no auto-summary
redistribute eigrp 100 metric 15
exit
router eigrp 100
network 10.1.14.0 0.0.0.3
network 10.1.16.0 0.0.0.3
redistribute rip metric 15 150 255 255 1500
exit

########################    SWITCH 12 TELEFONICA  ###############################
enable
configure terminal
interface fastEthernet 0/1
no switchport
ip address 10.1.13.2 255.255.255.252
no shutdown
exit
interface fastEthernet 0/7
no switchport
ip address 10.1.14.2 255.255.255.252
no shutdown
exit
vtp domain grupo8
vtp password grupo8
vtp version 2
vtp mode server
exit
vlan 10 
name Empresarial
exit
vlan 20
name Economico 
exit
interface range fa0/5-6
channel-protocol lacp
channel-group 1 mode active
exit
interface port-channel 1
switchport trunk encapsulation dot1q
switchport mode trunk
switchport trunk allowed vlan 1,10,20,1002-1005
exit
interface range fa0/2-4
switchport trunk encapsulation dot1q
switchport mode trunk
switchport trunk allowed vlan 1,10,20,1002-1005
exit
interface vlan10
ip address 192.168.88.1 255.255.255.128
no shutdown
exit
interface vlan20
ip address 192.168.88.129 255.255.255.128
no shutdown
exit
ip routing
router eigrp 100
network 10.1.13.0 0.0.0.3
network 10.1.14.0 0.0.0.3
exit

########################    SWITCH 13 TELEFONICA  ###############################
enable
configure terminal
interface fastEthernet 0/1
no switchport
ip address 10.1.16.2 255.255.255.252
no shutdown
exit
interface fastEthernet 0/7
no switchport
ip address 10.1.15.2 255.255.255.252
no shutdown
exit
vtp domain grupo8
vtp password grupo8
vtp version 2
vtp mode client
exit
interface range fa0/5-6
channel-protocol lacp
channel-group 1 mode active
exit
interface port-channel 1
switchport trunk encapsulation dot1q
switchport mode trunk
switchport trunk allowed vlan 1,10,20,1002-1005
exit
interface range fa0/2-4
switchport trunk encapsulation dot1q
switchport mode trunk
switchport trunk allowed vlan 1,10,20,1002-1005
exit
interface vlan10
ip address 192.168.88.1 255.255.255.128
no shutdown
exit
interface vlan20
ip address 192.168.88.129 255.255.255.128
no shutdown
exit
ip routing
router eigrp 100
network 10.1.15.0 0.0.0.3
network 10.1.16.0 0.0.0.3
exit

########################    SWITCHES TELEFONICA  ###############################
enable 
configure terminal
vtp domain grupo8
vtp password grupo8
vtp version 2
vtp mode client
exit
interface fa0/3 
switchport mode access
switchport access vlan 20
exit

